<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PROJECT: PLAYCARE – NIGHT SHIFT (Nights 1–2)</title>
<style>
body{
  margin:0;
  overflow:hidden;
  background:black;
  font-family:Arial, system-ui, sans-serif;
  color:white;
  user-select:none;
}

/* CANVAS BACKDROP */
#gameCanvas{
  position:fixed;
  inset:0;
  background:#05050a;
}

/* TITLE SCREEN */
#titleScreen{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at 50% 20%, #161626 0, #050511 45%, #000 100%);
  z-index:30;
}
#titleBackdrop{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 10% 10%, rgba(255,0,0,0.12) 0, transparent 45%),
    radial-gradient(circle at 80% 80%, rgba(0,140,255,0.2) 0, transparent 55%);
  pointer-events:none;
}
#titleContent{
  position:relative;
  text-align:center;
}
#titleLogo{
  margin:0;
  text-transform:uppercase;
  letter-spacing:8px;
}
#titleLogo span:nth-child(1){
  display:block;
  font-size:18px;
  color:#ff4a4a;
}
#titleLogo span:nth-child(2){
  display:block;
  font-size:40px;
}
#titleTagline{
  margin-top:6px;
  font-size:13px;
  opacity:.8;
  animation:tagPulse 3s ease-in-out infinite;
}
@keyframes tagPulse{
  0%,100%{opacity:.45;}
  50%{opacity:1;}
}
#titleButtons{
  margin-top:26px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.titleBtn{
  padding:10px 32px;
  font-size:15px;
  letter-spacing:2px;
  text-transform:uppercase;
  border:none;
  border-radius:4px;
  cursor:pointer;
  background:#ff2222;
  color:white;
  box-shadow:0 0 14px rgba(0,0,0,0.5);
  transition:background .15s,transform .1s,box-shadow .15s;
}
.titleBtn:hover{
  background:#ff4444;
  transform:translateY(-1px);
  box-shadow:0 0 22px rgba(255,60,60,0.6);
}

/* SETTINGS (basic) */
#settingsPanel{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:320px;
  padding:16px 18px;
  background:rgba(3,4,10,0.95);
  border:1px solid #444;
  box-shadow:0 0 22px rgba(0,0,0,0.9);
  display:none;
  z-index:35;
}
#settingsPanel h2{
  margin:0 0 10px 0;
  font-size:18px;
  letter-spacing:2px;
}
.settingRow{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:8px 0;
  font-size:13px;
}
.settingRow input[type=range]{width:170px;}
.settingRow input[type=checkbox]{transform:scale(1.1);}
#settingsClose{
  margin-top:12px;
  padding:6px 14px;
  font-size:13px;
  border:none;
  border-radius:4px;
  background:#444;
  color:white;
  cursor:pointer;
}
#settingsClose:hover{background:#666;}

/* HUD */
#hud{
  position:absolute;
  left:20px;
  bottom:20px;
  color:white;
  font-size:14px;
  text-shadow:0 0 4px #000;
  z-index:10;
  white-space:pre-line;
  display:none;
}
#info{
  position:absolute;
  right:20px;
  bottom:20px;
  color:white;
  font-size:13px;
  text-shadow:0 0 4px #000;
  z-index:10;
  text-align:right;
  display:none;
}
#timeDisplay{
  position:absolute;
  top:20px;
  right:20px;
  font-size:16px;
  text-shadow:0 0 4px #000;
  z-index:10;
  display:none;
}
#powerBar{
  position:absolute;
  left:20px;
  top:20px;
  width:140px;
  height:18px;
  border:1px solid #fff;
  z-index:10;
  display:none;
}
#powerFill{
  height:100%;
  width:100%;
  background:#46ff46;
}

/* Office buttons */
.uiButton{
  position:absolute;
  border:2px solid #666;
  background:rgba(20,20,30,0.8);
  color:white;
  font-size:11px;
  padding:4px 6px;
  cursor:pointer;
  text-align:center;
  user-select:none;
  z-index:10;
}
.uiButton.on{
  background:#ff4444;
}
#leftDoorBtn{left:40px;bottom:80px;}
#leftLightBtn{left:40px;bottom:50px;}
#rightDoorBtn{right:40px;bottom:80px;}
#rightLightBtn{right:40px;bottom:50px;}
#camBtn{left:50%;bottom:30px;transform:translateX(-50%);}

/* Camera overlay */
#camOverlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.85);
  display:none;
  z-index:20;
}
#camView{
  position:absolute;
  left:50%;
  top:45%;
  width:560px;
  height:315px;
  transform:translate(-50%,-50%);
  background:#050509;
  border:2px solid #666;
  box-shadow:0 0 12px rgba(0,0,0,0.8);
}
#camLabel{
  position:absolute;
  top:-22px;
  left:0;
  font-size:12px;
  color:#ccc;
}
.camMap{
  position:absolute;
  bottom:-90px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  flex-wrap:wrap;
  gap:4px;
  width:560px;
  justify-content:center;
}
.camMap button{
  padding:3px 6px;
  font-size:11px;
  background:#222;
  border:1px solid #555;
  color:white;
  cursor:pointer;
}
.camMap button.active{
  background:#66ccff;
  border-color:#aaf;
}

/* Jumpscare & night complete */
#jumpscare{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:black;
  color:white;
  z-index:40;
  font-size:32px;
  letter-spacing:4px;
}
#nightComplete{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:black;
  color:white;
  z-index:40;
  font-size:28px;
  letter-spacing:3px;
}
</style>
</head>
<body>

<canvas id="gameCanvas"></canvas>

<!-- TITLE SCREEN -->
<div id="titleScreen">
  <div id="titleBackdrop"></div>
  <div id="titleContent">
    <h1 id="titleLogo">
      <span>PROJECT:</span>
      <span>PLAYCARE</span>
    </h1>
    <div id="titleTagline">Night Shift – “Everyone disappeared. They’re still here.”</div>
    <div id="titleButtons">
      <button class="titleBtn" id="playBtn">New Game (Night 1)</button>
      <button class="titleBtn" id="settingsBtn">Settings</button>
      <button class="titleBtn" id="quitBtn">Quit</button>
    </div>
  </div>
</div>

<!-- SETTINGS -->
<div id="settingsPanel">
  <h2>SETTINGS</h2>
  <div class="settingRow">
    <span>Master Volume</span>
    <input id="volumeSlider" type="range" min="0" max="100" value="75">
  </div>
  <div class="settingRow">
    <span>Mouse Sensitivity</span>
    <input id="sensSlider" type="range" min="20" max="200" value="80">
  </div>
  <div class="settingRow">
    <span>Flashlight Enabled</span>
    <input id="flashToggle" type="checkbox" checked>
  </div>
  <button id="settingsClose">Back</button>
</div>

<!-- HUD -->
<div id="hud"></div>
<div id="info"></div>
<div id="timeDisplay"></div>
<div id="powerBar"><div id="powerFill"></div></div>

<!-- Office buttons -->
<div id="leftDoorBtn" class="uiButton">LEFT DOOR</div>
<div id="leftLightBtn" class="uiButton">LEFT LIGHT</div>
<div id="rightDoorBtn" class="uiButton">RIGHT DOOR</div>
<div id="rightLightBtn" class="uiButton">RIGHT LIGHT</div>
<div id="camBtn" class="uiButton">CAM</div>

<!-- Camera overlay -->
<div id="camOverlay">
  <div id="camView">
    <div id="camLabel">CAM 1A – STAGE</div>
  </div>
  <div class="camMap">
    <!-- 11 cams matching FNAF count -->
    <button data-cam="1" class="camBtn">CAM 1A</button>
    <button data-cam="2" class="camBtn">CAM 1B</button>
    <button data-cam="3" class="camBtn">CAM 2A</button>
    <button data-cam="4" class="camBtn">CAM 2B</button>
    <button data-cam="5" class="camBtn">CAM 3</button>
    <button data-cam="6" class="camBtn">CAM 4A</button>
    <button data-cam="7" class="camBtn">CAM 4B</button>
    <button data-cam="8" class="camBtn">CAM 5 (CatNap)</button>
    <button data-cam="9" class="camBtn">CAM 6</button>
    <button data-cam="10" class="camBtn">CAM 7</button>
    <button data-cam="11" class="camBtn">CAM 8</button>
  </div>
</div>

<!-- Jumpscare / Night complete -->
<div id="jumpscare">YOU DIED</div>
<div id="nightComplete">NIGHT COMPLETE</div>

<!-- AUDIO -->
<audio id="titleMusic" src="Title music.mp3" loop></audio>
<audio id="jumpscareSound" src="jumpscare.mp3"></audio>

<script>
// ===== Canvas setup =====
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

// ===== UI refs =====
const titleScreen = document.getElementById('titleScreen');
const playBtn = document.getElementById('playBtn');
const settingsBtn = document.getElementById('settingsBtn');
const quitBtn = document.getElementById('quitBtn');
const settingsPanel = document.getElementById('settingsPanel');
const settingsClose = document.getElementById('settingsClose');
const volumeSlider = document.getElementById('volumeSlider');
const sensSlider = document.getElementById('sensSlider');
const flashToggle = document.getElementById('flashToggle');

const titleMusic = document.getElementById('titleMusic');
const jumpscareSound = document.getElementById('jumpscareSound');

const hud = document.getElementById('hud');
const info = document.getElementById('info');
const timeDisplay = document.getElementById('timeDisplay');
const powerBar = document.getElementById('powerBar');
const powerFill = document.getElementById('powerFill');

const leftDoorBtn = document.getElementById('leftDoorBtn');
const leftLightBtn = document.getElementById('leftLightBtn');
const rightDoorBtn = document.getElementById('rightDoorBtn');
const rightLightBtn = document.getElementById('rightLightBtn');
const camBtn = document.getElementById('camBtn');

const camOverlay = document.getElementById('camOverlay');
const camLabel = document.getElementById('camLabel');
const camButtons = Array.from(document.querySelectorAll('.camBtn'));

const jumpscareDiv = document.getElementById('jumpscare');
const nightCompleteDiv = document.getElementById('nightComplete');

// ===== options / audio helpers =====
const options = {
  masterVolume:0.75,
  mouseSensitivity:0.0025,
  flashlightEnabled:true
};

function fadeIn(audio,target=0.75,duration=1500){
  audio.volume=0;
  audio.play().catch(()=>{});
  const step=target/(duration/50);
  const id=setInterval(()=>{
    audio.volume=Math.min(target,audio.volume+step);
    if(audio.volume>=target)clearInterval(id);
  },50);
}
function fadeOut(audio,duration=1500){
  const step=(audio.volume||0)/(duration/50||1);
  const id=setInterval(()=>{
    audio.volume=Math.max(0,audio.volume-step);
    if(audio.volume<=0){audio.pause();clearInterval(id);}
  },50);
}
function stopAllMusic(){
  [titleMusic].forEach(a=>{a.pause();a.currentTime=0;});
}
function applyMasterVolume(){
  [titleMusic,jumpscareSound].forEach(a=>{a.volume=options.masterVolume;});
}

// init title music
applyMasterVolume();
fadeIn(titleMusic, options.masterVolume);

volumeSlider.addEventListener('input',()=>{
  options.masterVolume = Number(volumeSlider.value)/100;
  applyMasterVolume();
});
sensSlider.addEventListener('input',()=>{
  const v=Number(sensSlider.value);
  options.mouseSensitivity = 0.001 + (v-20)*(0.01-0.001)/(200-20);
});
flashToggle.addEventListener('change',()=>{
  options.flashlightEnabled=flashToggle.checked;
});

// settings UI
settingsBtn.onclick=()=>settingsPanel.style.display='block';
settingsClose.onclick=()=>settingsPanel.style.display='none';
quitBtn.onclick=()=>{
  titleScreen.style.display='none';
  fadeOut(titleMusic,800);
};

// ===== Game state =====
const game = {
  running:false,
  night:1,
  hour:12,
  minute:0,
  lastMinuteTick:0,
  timeScale:8, // 1 minute = 8 real seconds for testing
  power:100,
  powerDrainBase:0.03,
  powerDrainDoors:0.2,
  powerDrainLights:0.1,

  officeView:'center',
  camsOpen:false,
  currentCam:1,

  leftDoorClosed:false,
  rightDoorClosed:false,
  leftLightOn:false,
  rightLightOn:false,

  state:'office', // 'office','jumpscare','win'
  lastFrame:0
};

// AI config
const nightAIBase = {
  1: { huggy:0, mommy:0 },
  2: { huggy:3, mommy:1 }
};

const hourIncrements = {
  2: { huggy:+1 },
  3: { huggy:+1, mommy:+1 },
  4: { huggy:+1, mommy:+1 }
};

const huggyPath = ['stage','1B','2A','doorL'];   // Bonnie-like left route
const mommyPath = ['stageR','1B','2B','doorR']; // Chica-like right route

const anims = {
  huggy: { name:'Huggy', ai:0, state:'stage', lastCheck:0, moveInterval:5 },
  mommy: { name:'Mommy', ai:0, state:'stageR', lastCheck:0, moveInterval:6 }
};

// ===== Office buttons =====
leftDoorBtn.onclick=()=>{
  if(!game.running || game.state!=='office') return;
  game.leftDoorClosed=!game.leftDoorClosed;
  leftDoorBtn.classList.toggle('on',game.leftDoorClosed);
};
leftLightBtn.onclick=()=>{
  if(!game.running || game.state!=='office') return;
  game.leftLightOn=!game.leftLightOn;
  leftLightBtn.classList.toggle('on',game.leftLightOn);
};
rightDoorBtn.onclick=()=>{
  if(!game.running || game.state!=='office') return;
  game.rightDoorClosed=!game.rightDoorClosed;
  rightDoorBtn.classList.toggle('on',game.rightDoorClosed);
};
rightLightBtn.onclick=()=>{
  if(!game.running || game.state!=='office') return;
  game.rightLightOn=!game.rightLightOn;
  rightLightBtn.classList.toggle('on',game.rightLightOn);
};
camBtn.onclick=()=>{
  if(!game.running || game.state!=='office') return;
  game.camsOpen=!game.camsOpen;
  camOverlay.style.display = game.camsOpen ? 'block':'none';
};

camButtons.forEach(btn=>{
  btn.onclick=()=>{
    if(!game.camsOpen || game.state!=='office')return;
    const id=Number(btn.dataset.cam);
    game.currentCam=id;
    camButtons.forEach(b=>b.classList.toggle('active',Number(b.dataset.cam)===id));
    updateCamLabel();
  };
});

function updateCamLabel(){
  const names = {
    1:'CAM 1A – STAGE',
    2:'CAM 1B – HALL',
    3:'CAM 2A – LEFT HALL',
    4:'CAM 2B – RIGHT HALL',
    5:'CAM 3 – RIGHT CORRIDOR',
    6:'CAM 4A – STORAGE',
    7:'CAM 4B – MAKE-A-FRIEND',
    8:'CAM 5 – CATNAP COVE',
    9:'CAM 6 – POWER ROOM',
    10:'CAM 7 – VENTS',
    11:'CAM 8 – POPPY DOOR'
  };
  camLabel.textContent = names[game.currentCam] || 'CAM';
}

// ===== Start Night =====
playBtn.onclick=()=>{
  titleScreen.style.display='none';
  settingsPanel.style.display='none';
  fadeOut(titleMusic,800);
  startNight(1);
};

function startNight(n){
  game.running=true;
  game.night=n;
  game.hour=12;
  game.minute=0;
  game.lastMinuteTick=performance.now();
  game.power=100;
  game.state='office';
  game.camsOpen=false;
  game.currentCam=1;
  game.leftDoorClosed=false;
  game.rightDoorClosed=false;
  game.leftLightOn=false;
  game.rightLightOn=false;

  // AI levels
  anims.huggy.ai = nightAIBase[n]?.huggy || 0;
  anims.mommy.ai = nightAIBase[n]?.mommy || 0;

  anims.huggy.state='stage';
  anims.huggy.lastCheck=0;
  anims.mommy.state='stageR';
  anims.mommy.lastCheck=0;

  hud.style.display='block';
  info.style.display='block';
  timeDisplay.style.display='block';
  powerBar.style.display='block';
  camOverlay.style.display='none';
  jumpscareDiv.style.display='none';
  nightCompleteDiv.style.display='none';

  camButtons.forEach(b=>b.classList.toggle('active',Number(b.dataset.cam)===1));
  updateCamLabel();

  stopAllMusic();
  applyMasterVolume();
  fadeIn(titleMusic, options.masterVolume); // night uses title music

  game.lastFrame = performance.now();
  requestAnimationFrame(loop);
}

// ===== Loop =====
function loop(now){
  if(!game.running) return;
  const dt = (now - game.lastFrame)/1000 || 0.016;
  game.lastFrame=now;

  updateTime(now);
  updatePower(dt);
  updateAnimAI(now,dt);
  checkWinLose();
  drawOffice();
  if(game.camsOpen) drawCamView();

  requestAnimationFrame(loop);
}

// ===== Time & power =====
function updateTime(now){
  const elapsed = (now - game.lastMinuteTick)/1000;
  if(elapsed >= game.timeScale){
    game.lastMinuteTick = now;
    game.minute++;
    if(game.minute>=60){
      game.minute=0;
      game.hour++;
      if(game.hour>12) game.hour=1;
    }
    // AI increments at certain hours
    const inc = hourIncrements[game.hour];
    if(inc){
      if(inc.huggy) anims.huggy.ai += inc.huggy;
      if(inc.mommy) anims.mommy.ai += inc.mommy;
    }
  }
  timeDisplay.textContent = `${game.hour} AM`;
}

function updatePower(dt){
  if(game.state!=='office')return;
  let drain = game.powerDrainBase;
  if(game.leftDoorClosed) drain += game.powerDrainDoors;
  if(game.rightDoorClosed) drain += game.powerDrainDoors;
  if(game.leftLightOn) drain += game.powerDrainLights;
  if(game.rightLightOn) drain += game.powerDrainLights;
  if(game.camsOpen) drain += 0.05;
  game.power -= drain*dt*60;
  if(game.power<0) game.power=0;

  powerFill.style.width=`${game.power}%`;
  powerFill.style.background = game.power<15 ? '#ff4444' : game.power<30 ? '#ffcc33' : '#46ff46';
}

// ===== AI movement-opportunity system =====
function updateAnimAI(now,dt){
  const t = now/1000;

  // Night 1: Huggy only
  // Night 2: Huggy + Mommy
  if(game.night>=1){
    tryMoveAnima(anims.huggy,huggyPath,t);
  }
  if(game.night>=2){
    tryMoveAnima(anims.mommy,mommyPath,t);
  }
}

function tryMoveAnima(anim,path,t){
  if(t - anim.lastCheck < anim.moveInterval) return;
  anim.lastCheck = t;

  const ai = Math.max(0, Math.min(20, anim.ai));
  if(ai<=0) return;

  const r = Math.floor(Math.random()*20)+1;
  if(r>ai) return; // no move this time

  const idx = path.indexOf(anim.state);
  if(idx < 0){
    anim.state = path[0];
    return;
  }
  if(idx < path.length-1){
    anim.state = path[idx+1];
  }else{
    // at door
    if(anim === anims.huggy){
      if(!game.leftDoorClosed){
        triggerJumpscare(`${anim.name} (left door)`);
      }else{
        anim.state = path[path.length-2];
      }
    }else if(anim === anims.mommy){
      if(!game.rightDoorClosed){
        triggerJumpscare(`${anim.name} (right door)`);
      }else{
        anim.state = path[path.length-2];
      }
    }
  }
}

// ===== Jumpscare & win =====
function triggerJumpscare(reason){
  if(game.state!=='office')return;
  game.state='jumpscare';
  stopAllMusic();
  applyMasterVolume();
  if(jumpscareSound){
    jumpscareSound.currentTime=0;
    jumpscareSound.play().catch(()=>{});
  }
  jumpscareDiv.textContent = reason.toUpperCase() + ' GOT YOU';
  jumpscareDiv.style.display='flex';
  setTimeout(()=>{game.running=false;},2500);
}

function checkWinLose(){
  if(game.hour>=6 && game.state==='office'){
    game.state='win';
    nightCompleteDiv.textContent = `NIGHT ${game.night} COMPLETE`;
    nightCompleteDiv.style.display='flex';
    stopAllMusic();
    setTimeout(()=>{
      nightCompleteDiv.style.display='none';
      if(game.night===1){
        // go to Night 2
        startNight(2);
      }else{
        // reached Night 3 stub – return to title
        game.running=false;
        titleScreen.style.display='flex';
        fadeIn(titleMusic,options.masterVolume);
      }
    },2500);
  }
}

// ===== Drawing =====
function drawOffice(){
  const w = canvas.width;
  const h = canvas.height;
  ctx.clearRect(0,0,w,h);

  // office background
  ctx.fillStyle='#101420';
  ctx.fillRect(0,0,w,h);

  // desk
  ctx.fillStyle='#181c28';
  ctx.fillRect(w*0.2,h*0.65,w*0.6,h*0.1);

  // left door
  ctx.fillStyle = game.leftDoorClosed ? '#303340' : '#05070b';
  ctx.fillRect(0,h*0.3,w*0.2,h*0.4);

  // right door
  ctx.fillStyle = game.rightDoorClosed ? '#303340' : '#05070b';
  ctx.fillRect(w*0.8,h*0.3,w*0.2,h*0.4);

  if(game.leftLightOn){
    ctx.fillStyle='rgba(200,200,255,0.4)';
    ctx.fillRect(0,h*0.3,w*0.2,h*0.4);
  }
  if(game.rightLightOn){
    ctx.fillStyle='rgba(200,200,255,0.4)';
    ctx.fillRect(w*0.8,h*0.3,w*0.2,h*0.4);
  }

  // Huggy silhouettes
  const hs = anims.huggy.state;
  if(hs==='1B'){
    ctx.fillStyle='#0033aa';
    ctx.fillRect(w*0.1,h*0.35,40,110);
  }else if(hs==='2A'){
    ctx.fillStyle='#0055ff';
    ctx.fillRect(w*0.06,h*0.36,50,130);
  }else if(hs==='doorL'){
    ctx.fillStyle='#77aaff';
    ctx.fillRect(w*0.02,h*0.35,60,150);
  }

  // Mommy silhouettes
  const ms = anims.mommy.state;
  if(ms==='1B'){
    ctx.fillStyle='#aa3377';
    ctx.fillRect(w*0.8+h*0.0,h*0.35,40,110); // reuse 1B area
  }else if(ms==='2B'){
    ctx.fillStyle='#ff5588';
    ctx.fillRect(w*0.84,h*0.36,50,130);
  }else if(ms==='doorR'){
    ctx.fillStyle='#ff99cc';
    ctx.fillRect(w*0.9,h*0.35,60,150);
  }

  // HUD text
  hud.textContent = `Night ${game.night}\nHuggy AI: ${anims.huggy.ai} (${anims.huggy.state})\nMommy AI: ${anims.mommy.ai} (${anims.mommy.state})`;
}

// draw cams into canvas (simple overlays)
function drawCamView(){
  const vw=560,vh=315;
  const cx = canvas.width/2 - vw/2;
  const cy = canvas.height*0.45 - vh/2;

  ctx.save();
  ctx.strokeStyle='#666';
  ctx.strokeRect(cx,cy,vw,vh);
  ctx.fillStyle='#05050a';
  ctx.fillRect(cx,cy,vw,vh);
  ctx.fillStyle='#ddd';
  ctx.font='14px Arial';

  const c = game.currentCam;

  if(c===1){ // Stage
    ctx.fillText('Huggy & Mommy starting area (Stage)',cx+20,cy+30);
    ctx.fillStyle='#0033aa';
    ctx.fillRect(cx+vw*0.3,cy+vh*0.5-60,40,120);
    ctx.fillStyle='#aa3377';
    ctx.fillRect(cx+vw*0.6,cy+vh*0.5-60,40,120);
  }else if(c===2){ // 1B
    ctx.fillText('Hall outside Stage (1B)',cx+20,cy+30);
    if(anims.huggy.state==='1B'){
      ctx.fillStyle='#0033aa';
      ctx.fillRect(cx+vw*0.5,cy+vh*0.55-60,40,120);
    }
    if(anims.mommy.state==='1B'){
      ctx.fillStyle='#aa3377';
      ctx.fillRect(cx+vw*0.6,cy+vh*0.55-60,40,120);
    }
  }else if(c===3){ // 2A left hall
    ctx.fillText('Left Hall (2A)',cx+20,cy+30);
    if(anims.huggy.state==='2A' || anims.huggy.state==='doorL'){
      ctx.fillStyle='#0055ff';
      ctx.fillRect(cx+vw*0.4,cy+vh*0.5-60,50,130);
    }
  }else if(c===4){ // 2B right hall
    ctx.fillText('Right Hall (2B)',cx+20,cy+30);
    if(anims.mommy.state==='2B' || anims.mommy.state==='doorR'){
      ctx.fillStyle='#ff5588';
      ctx.fillRect(cx+vw*0.55,cy+vh*0.5-60,50,130);
    }
  }else if(c===5){
    ctx.fillText('Right Corridor (CAM 3) – placeholder',cx+20,cy+30);
  }else if(c===6){
    ctx.fillText('Storage (CAM 4A) – placeholder',cx+20,cy+30);
  }else if(c===7){
    ctx.fillText('Make-A-Friend (CAM 4B) – placeholder',cx+20,cy+30);
  }else if(c===8){
    ctx.fillText('CatNap Cove (CAM 5) – placeholder (Foxy logic later)',cx+20,cy+30);
  }else if(c===9){
    ctx.fillText('Power Room (CAM 6) – placeholder',cx+20,cy+30);
  }else if(c===10){
    ctx.fillText('Vents (CAM 7) – placeholder',cx+20,cy+30);
  }else if(c===11){
    ctx.fillText('Poppy Door (CAM 8) – placeholder',cx+20,cy+30);
  }

  ctx.restore();
}
</script>
</body>
</html>
